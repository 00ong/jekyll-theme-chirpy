---
layout: page
# The Archives of posts.
---

{% include lang.html %}

{% assign df_strftime_m = site.data.locales[lang].df.archives.strftime | default: '/ %m' %}
{% assign df_dayjs_m = site.data.locales[lang].df.archives.dayjs | default: '/ MM' %}

{% assign posts_by_year = site.posts | group_by_exp: 'post', "post.date | date: '%Y'" %}
{% assign posts_by_year = posts_by_year | sort: 'name' | reverse %}

<div id="archives" class="pl-xl-3">
  {% for group in posts_by_year %}
    {% assign year_posts = group.items | sort: 'date' | reverse %}
  <details class="archives-year" data-year="{{ group.name }}" open>
      <summary class="archives-year__summary">
        <span class="archives-year__year">{{ group.name }}</span>
        <span class="archives-year__meta">
          <span class="archives-year__count">{{ year_posts | size }}</span>
          <span class="archives-year__label">{% if year_posts.size == 1 %}Post{% else %}Posts{% endif %}</span>
        </span>
        <span class="archives-year__chevron" aria-hidden="true"></span>
      </summary>

      <ol class="archives-year__list list-unstyled">
        {% for post in year_posts %}
          {% assign ts = post.date | date: '%s' %}
          <li class="archives-entry">
            <div class="archives-entry__rail" aria-hidden="true"></div>

            <div class="archives-entry__meta">
              <span class="archives-entry__day date day" data-ts="{{ ts }}" data-df="DD">{{ post.date | date: '%d' }}</span>
              <span class="archives-entry__month date month" data-ts="{{ ts }}" data-df="{{ df_dayjs_m }}">
                {{ post.date | date: df_strftime_m }}
              </span>
            </div>

            <div class="archives-entry__content">
              <a class="archives-entry__title" href="{{ post.url | relative_url }}">{{ post.title }}</a>

              {% assign excerpt = post.excerpt | strip_html | strip_newlines %}
              {% if excerpt != '' %}
                <p class="archives-entry__excerpt">{{ excerpt | truncate: 140 }}</p>
              {% endif %}

              {% if post.tags and post.tags != empty %}
                <ul class="archives-entry__tags" aria-label="Tags">
                  {% for tag in post.tags limit: 4 %}
                    <li><span>#{{ tag }}</span></li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
          </li>
        {% endfor %}
      </ol>
    </details>
  {% endfor %}
</div>
